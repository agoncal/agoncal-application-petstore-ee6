<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:form>
        <h:panelGrid columns="2" style="width: 100%">

            <h:panelGroup>
                <div style="float: left;">
                    <h:link outcome="main">
                        <h:graphicImage id="logo" url="#{resource['banner_logo.gif']}"/>
                        <f:param name="cid" value="#{javax.enterprise.context.conversation.id}"/>
                    </h:link>
                </div>
            </h:panelGroup>

            <h:panelGroup>
                <div style="float: right;">
                    <div style="float: right;">
                        <h:inputText value="#{catalogController.keyword}"/>
                        <h:commandButton action="#{catalogController.doSearch}" value="#{i18n.search}"/>
                    </div>
                </div>
            </h:panelGroup>

            <h:panelGroup>
            </h:panelGroup>

            <h:panelGroup>
                <div style="float: right;">
                    <h:link outcome="showcart" value="#{i18n.shoppingCart}"
                            rendered="#{!shoppingCartController.shoppingCartIsEmpty()}"
                            styleClass="menu-cart">
                        <f:param name="cid" value="#{javax.enterprise.context.conversation.id}"/>
                    </h:link>

                    <h:link outcome="showaccount"
                            value="#{i18n.welcome} #{accountController.loggedinCustomer.firstname}"
                            styleClass="menu-user" rendered="#{accountController.loggedIn}">
                        <f:param name="cid" value="#{javax.enterprise.context.conversation.id}"/>
                    </h:link>

                    <h:link outcome="signon" value="#{i18n.logIn}" rendered="#{!accountController.loggedIn}"
                            styleClass="menu-login">
                        <f:param name="cid" value="#{javax.enterprise.context.conversation.id}"/>
                    </h:link>

                    <h:commandLink action="#{accountController.doLogout}" rendered="#{accountController.loggedIn}"
                                   styleClass="menu-logout">
                        <h:outputText value="${i18n.logOut}"/>
                    </h:commandLink>

                    <h:commandLink action="#{localeBean.setLanguage('fr')}" styleClass="menu-fr" immediate="true">
                        <f:ajax render="@form"/>
                        <h:outputText value="FranÃ§ais"/>
                    </h:commandLink>

                    <h:commandLink action="#{localeBean.setLanguage('en')}" styleClass="menu-en" immediate="true">
                        <f:ajax render="@form"/>
                        <h:outputText value="English"/>
                    </h:commandLink>

                </div>
            </h:panelGroup>
        </h:panelGrid>
    </h:form>
</ui:composition>
